@model SK_PG_WebApp.Models.DynamicModels.PayingGuestDC

@{
    ViewData["Title"] = "PayingGuest";
    Layout = "~/Views/Shared/_LayoutUI2.cshtml";
}


   <div class="card" style="margin:10px">
              <div class="card-header">
                  
                <h3 class="card-title">Paying Guest</h3>
                 <a asp-area="" asp-controller="User" asp-action="AddNewUser" asp-route-id="3" class="dropdown-item dropdown-footer"
                 style="    max-width: 150px;
    background: darkseagreen;
    border-radius: 10px;"
                 >
                                 <i class="fa fa-plus" aria-hidden="true"></i> Add New User </a>

                  <form class="form-horizontal" method="post">

                      <div class="row">
                          <div class="col-md-8"></div>
                          <div class="col-md-2">
                                <div class="input-group input-group-sm" style="width: 150px;">
                                <input type="text" name="table_search" class="form-control float-right" value="@ViewBag.Search" placeholder="Search By Paying Guest Name">
                          </div>

                          </div>
                          <div class="col-md-1">
                              @Html.DropDownList("pageNo",(IEnumerable<SelectListItem>)ViewBag.Pages , new { 
                                             @class = "form-control", @id = "pageNo", @name = "pageNo" , @style = "max-width:70px"
                                               
                                         }) 
                          </div>
                          <div class="col-md-1">
                              <button type="submit" class="btn btn-default btn-small">
                                  Submit
                      </button>
                          </div>
                        
                              
                        
                        
                      </div>








               

                 </form>
              </div>
              <!-- /.card-header -->
              <div class="card-body p-0">
                <table class="table table-responsive">
                  <thead>
                    <tr>
                      @*<th style="width: 10px">#</th>*@
                      @*<th>UniqueId</th>*@
                      <th>Name</th>
                      <th>WhatsApp Number</th>
                      <th>DOB</th>
                     @* <th>Onboarding Date</th>
                      <th>Last Payment Date</th>
                     
                      <th>Next Renewation Date</th>
                      <th>Emergency Contact</th>
                      <th>Family Member</th>*@
                       <th>Next Payment Date</th>
                       <th>Building</th>
                        <th>Room</th>
                      <th></th>
                    </tr>
                  </thead>
                  <tbody>
                  
                    @foreach(var item in ViewBag.Data)
                    {
                        <tr>
                      @*<td style="width: 10px">#</td>*@
                      @*<td>@item.uniqueId</td>*@
                      <td>@item.name</td>
                      <td >
                          <a href="@item.whatsAppLink" target="_blank">@item.mobileNumber</a>
                      </td>
                      <td>@item.birthDate</td>
                      @* <td>@item.activateDate</td>
                      <td>@item.lastPaymentDate</td>
                      
                      <td>@item.nextRenewDate</td>
                       <td>@item.emergencyContact</td>
                        <td>@item.familyMember</td>*@
                        <td>@item.nextPaymentDate</td>
                         <td>@item.Property</td>
                          <td>@item.roomNo</td>
                       

                      <td>
                             <a asp-controller="User" asp-action="UserProfile" title="View Details" asp-route-id="@item.uniqueId" class="btn btn-sm btn-primary">
                      <i class="fas fa-eye"></i> 
                    </a>
                            @if(@item.Property == null || @item.Property == "")
                            {
                                 <a asp-controller="User" asp-action="PayingGuestRoomMapping" title="Map New Property" asp-route-id="@item.uniqueId" class="btn btn-sm btn-primary">
                      <i class="fa fa-home bg-blue"></i>
                    </a>
                            }
                           

                     <a asp-controller="Invoice" asp-action="UserPaymentList" title="Generate Invoice" asp-route-id="@item.uniqueId" class="btn btn-sm btn-primary">
                      <i class="fas fa-file-invoice"></i> 
                    </a>
                            @if(@item.Property != null && @item.Property != "")
                            {
                                <a asp-controller="User" asp-action="UserNotice" title="Switch to Notice" asp-route-userId="@item.uniqueId" class="btn btn-sm btn-primary">
                      <i class="far fa-calendar-alt"></i> 
                    </a>
                            }
                            

                      </td>
                    </tr>
                    }
                    
                    
                  </tbody>
                </table>
              </div>
              <!-- /.card-body -->
            </div>